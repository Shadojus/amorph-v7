/* ═══════════════════════════════════════════════════════════════════════════════
   AMORPH v7 - UNIVERSE THEME DESIGN SYSTEM
   ═══════════════════════════════════════════════════════════════════════════════
   
   SINGLE SOURCE OF TRUTH
   ─────────────────────────────────────────
   Alle visuellen Konstanten und wiederverwendbaren Styles sind hier definiert.
   Morph-Dateien verwenden diese Variablen und Utility-Klassen.
   
   NACHTHIMMEL-PRINZIP:
   ─────────────────────────────────────────
   • Hintergrund: Dunkel wie der Nachthimmel
   • Text: Grau - dezent wie ferne Nebel (NIE weiß!)
   • Datenpunkte: System-Color Lichtkugeln - leuchtend wie Sterne
   • Linien: Dünn und dezent - kaum sichtbare Strukturen
   • Wichtige Werte: System-Color leuchtend - ziehen Aufmerksamkeit
   
   ═══════════════════════════════════════════════════════════════════════════════ */

/* ═══════════════════════════════════════════════════════════════════════════════
   1. CSS CUSTOM PROPERTIES - Harmonisiert mit Base.css System
   ═══════════════════════════════════════════════════════════════════════════════ */
:root {
  /* ─── Systemfarben (von base.css übernommen) ─── */
  --morph-color: hsl(var(--system-h, 220), var(--system-s, 100%), var(--system-l, 65%));
  --morph-accent: var(--morph-color);
  --morph-color-rgb: var(--system-rgb, 77, 136, 255);
  --morph-success: #00ff88;
  --morph-warning: #ffaa00;
  --morph-danger: #ff3366;
  
  /* ─── Text-Hierarchie (GRAU - nie weiß!) ─── */
  --text-primary: rgba(255, 255, 255, 0.55);   /* Haupttext */
  --text-secondary: rgba(255, 255, 255, 0.4);  /* Sekundär */
  --text-muted: rgba(255, 255, 255, 0.25);     /* Sehr dezent */
  --text-value: var(--morph-accent);           /* Wichtige Werte = System-Color */
  
  /* ─── Text Glow (für wichtige Werte) ─── */
  --text-glow: 0 0 10px rgba(var(--morph-color-rgb), 0.4);
  --text-glow-strong: 0 0 12px rgba(var(--morph-color-rgb), 0.5);
  
  /* ─── Lichtkugel (Glowing Dot) ─── */
  --dot-size: 6px;
  --dot-color: var(--morph-accent);
  --dot-bg: var(--morph-accent);
  --dot-glow: 0 0 8px var(--morph-accent);
  --dot-glow-active: 0 0 12px var(--morph-accent), 0 0 20px rgba(var(--morph-color-rgb), 0.4);
  
  /* ─── Track/Bar ─── */
  --track-height: 2px;
  --track-bg: rgba(255, 255, 255, 0.04);
  --track-fill: color-mix(in srgb, var(--morph-color) 30%, transparent);
  --track-radius: 1px;
  
  /* ─── Connector/Lines ─── */
  --line-width: 1px;
  --line-color: rgba(255, 255, 255, 0.06);
  
  /* ─── Type Badge ─── */
  --morph-type-badge: var(--morph-color);
  --morph-type-badge-bg: rgba(var(--morph-color-rgb), 0.12);
}


/* ═══════════════════════════════════════════════════════════════════════════════
   2. LICHTKUGEL (Glowing Dot) - DAS WICHTIGSTE ELEMENT
   ═══════════════════════════════════════════════════════════════════════════════
   
   Verwendung in HTML: <span class="dot"></span>
   Verwendung in CSS:  .element::before { @extend .dot-pseudo; } oder die Mixins
   
   ─────────────────────────────────────────────────────────────────────────────── */

/* Basis-Lichtkugel */
.dot,
.morph-dot {
  display: inline-block;
  width: var(--dot-size);
  height: var(--dot-size);
  border-radius: 50%;
  background: var(--dot-bg);
  box-shadow: var(--dot-glow);
  flex-shrink: 0;
}

/* Aktive/Hervorgehobene Lichtkugel */
.dot--active,
.morph-dot--active {
  box-shadow: var(--dot-glow-active);
}

/* Gedämpfte Lichtkugel */
.dot--muted,
.morph-dot--muted {
  opacity: 0.4;
  box-shadow: 0 0 4px var(--morph-accent);
}


/* ═══════════════════════════════════════════════════════════════════════════════
   3. TRACK & FILL - Für Bars, Progress, Range
   ═══════════════════════════════════════════════════════════════════════════════ */

.morph-track {
  height: var(--track-height);
  background: var(--track-bg);
  border-radius: var(--track-radius);
  position: relative;
  overflow: visible;
}

.morph-fill {
  height: 100%;
  background: var(--track-fill);
  border-radius: var(--track-radius);
  position: relative;
  transition: width 0.3s ease;
}

/* Lichtkugel am Ende des Fills */
.morph-fill::after {
  content: '';
  position: absolute;
  right: -3px;
  top: 50%;
  transform: translateY(-50%);
  width: var(--dot-size);
  height: var(--dot-size);
  background: var(--dot-bg);
  border-radius: 50%;
  box-shadow: var(--dot-glow);
}


/* ═══════════════════════════════════════════════════════════════════════════════
   4. CONNECTOR - Verbindungslinien
   ═══════════════════════════════════════════════════════════════════════════════ */

.morph-connector {
  width: var(--line-width);
  background: var(--line-color);
  flex: 1;
  min-height: 8px;
}


/* ═══════════════════════════════════════════════════════════════════════════════
   5. TEXT UTILITIES
   ═══════════════════════════════════════════════════════════════════════════════ */

.morph-text-primary { color: var(--text-primary) !important; }
.morph-text-secondary { color: var(--text-secondary) !important; }
.morph-text-muted { color: var(--text-muted) !important; }

/* Wichtiger Wert - System-Color mit Glow */
.morph-value {
  font-weight: 600;
  font-variant-numeric: tabular-nums;
  color: var(--text-value);
  text-shadow: 0 0 10px rgba(var(--morph-color-rgb), 0.4);
}

/* Label - sehr dezent */
.morph-label {
  font-size: 0.65rem;
  font-weight: 500;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.04em;
}

/* Einheit neben Werten */
.morph-unit {
  font-size: 0.7em;
  font-weight: 500;
  color: var(--text-muted);
  margin-left: 0.2em;
  text-shadow: none;
}


/* ═══════════════════════════════════════════════════════════════════════════════
   6. FLEX UTILITY CLASSES - Reduziert CSS-Redundanz
   ═══════════════════════════════════════════════════════════════════════════════ */

/* Flex Container */
.flex { display: flex; }
.flex-col { display: flex; flex-direction: column; }
.flex-wrap { flex-wrap: wrap; }
.flex-1 { flex: 1; }
.flex-shrink-0 { flex-shrink: 0; }

/* Alignment */
.items-center { align-items: center; }
.items-start { align-items: flex-start; }
.items-end { align-items: flex-end; }
.items-baseline { align-items: baseline; }
.justify-center { justify-content: center; }
.justify-between { justify-content: space-between; }
.justify-start { justify-content: flex-start; }
.justify-end { justify-content: flex-end; }

/* Gap Utilities (8px base) */
.gap-1 { gap: 0.25rem; }   /* 4px */
.gap-2 { gap: 0.5rem; }    /* 8px */
.gap-3 { gap: 0.75rem; }   /* 12px */
.gap-4 { gap: 1rem; }      /* 16px */
.gap-5 { gap: 1.25rem; }   /* 20px */
.gap-6 { gap: 1.5rem; }    /* 24px */

/* Common Flex Patterns */
.flex-row-center {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.flex-col-gap {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.flex-between {
  display: flex;
  align-items: center;
  justify-content: space-between;
}


/* ═══════════════════════════════════════════════════════════════════════════════
   7. ITEM COLOR SYSTEM (für Compare-Mode)
   Erlaubt individuelle Farben per Item via --item-color Variable
   ═══════════════════════════════════════════════════════════════════════════════ */

/* Wenn --item-color gesetzt ist, überschreibt es die Standard-Farben */
[style*="--item-color"] {
  --dot-bg: var(--item-color);
  --dot-glow: 0 0 8px var(--item-color);
  --track-fill: color-mix(in srgb, var(--item-color) 30%, transparent);
}

/* Pseudo-Element Lichtkugeln mit Item-Color */
[style*="--item-color"]::before {
  background: var(--item-color) !important;
  box-shadow: 0 0 8px var(--item-color) !important;
}

[style*="--item-color"] .morph-fill::after {
  background: var(--item-color);
  box-shadow: 0 0 8px var(--item-color);
}

